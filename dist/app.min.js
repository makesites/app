/**
 * @name @makesites/app
 * 
 *
 * Version: 0.6.1 (Sun, 05 Jan 2025 09:12:59 GMT)
 * Source: 
 *
 * @author makesites
 * Distributed by [Makesites.org](http://makesites.org)
 *
 * @license Released under the MPL v2.0, AGPL v3.0 licenses
 */
class Base{constructor(t){t=t||{},this.states=t.states||{},this.initStates()}bind(t,e){this.on(t,e,!1)}on(t,e){this._e.addEventListener(t,e,!1)}trigger(t,e,i){const s=new Event(t);this._e.dispatchEvent(s,e,i)}remove(){window.removeEventListener("resize",this._resize)}unbind(t,e){t?e?this.el.removeEventListener(t,e):this.el.removeEventListener(t):this.el.replaceWith(this.el.cloneNode(!0))}delegateEvents(t){t=t||_.result(this,"events");var e=this,i=/^(\S+)\s*(.*)$/;if(!t)return this;this._delegateEvents=[],this.undelegateEvents();return Object.keys(t).forEach((s=>{var n=t[s];if("function"!=typeof n&&(n=this[n]),n){var r=s.match(i);e.el.querySelectorAll(r[2]).forEach((function(t){let i=r[1]+".delegateEvents"+e.cid,s=n.bind(e);t.addEventListener(i,s),e._delegateEvents.push({target:e,type:i,listener:s})}))}})),this}undelegateEvents(){let t=this._delegateEvents||[];for(var e=0;e!=t.length;e++){var i=t[e],s=i.target,n=i.type,r=i.listener;s==this&&n.indexOf(".delegateEvents"+this.cid)>-1&&this.el.removeEventListener(n,r)}return this}setElement(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this}_setElement(t){this.el=t}initStates(){for(var t in this.states){var e=this.states[t];this.bind(t,_.bind(this[e],this))}}}class Model extends Base{constructor(t,e={}){super(e),this.defaults={autofetch:!1,cache:!1},this.attributes={},this._e=new EventTarget,e=e||{},this.options=_.extend({},this.defaults,e),"object"==typeof t&&this.set(t),this.cid=_.uniqueId("model"),this.initialize()}initialize(){if(this.options.cache){var t=this.cache();t&&this.set(t)}this.options.autofetch&&!_.isUndefined(this.url)&&this.fetch()}add(t){var e=this,i={};_.each(t,(function(t,s){_.isUndefined(e.get(s))&&(i[s]=t)})),this.set(i)}get(t){return this.attributes[t]}has(t){return null!=this.get(t)}set(t,e,i){if(null==t)return this;var s;"object"==typeof t?(s=t,i=e):(s={})[t]=e;var n=(i=i||{}).silent;for(var r in s)e=s[r],this.attributes[r]=e;return n||this.trigger("change",this,i),this}reset(){return this.clear().set(this.defaults)}cache(){return!!Model.cache&&Model.cache()}on(t,e){this._e.addEventListener(t,e,!1)}trigger(t,e,i){const s=new Event(t);this._e.dispatchEvent(s,e,i)}isOnline(){return!!_.isUndefined(app)||app.state.online}getValue(t,e){return t&&t[e]?_.isFunction(t[e])?t[e]():t[e]:null}parse(t){var e=this;return setTimeout((function(){e.trigger("fetch")}),200),this.options.cache&&this.cache(t),t}toJSON(t){var e=this.attributes;return"object"!=typeof e?e:Array.isArray(e)?e.slice():_.extend({},e)}output(){return this.toJSON()}}class View extends Base{constructor(t){super(t=t||{}),this.el=this._getEl(t),this.data=t.data||this.model||this.collection||null,this.state=new Model,this.state.set({loaded:!1,scroll:!1,visible:!1}),this.states={scroll:"_scroll"},this.defaults={data:!1,html:!1,template:!1,url:!1,bind:"add remove reset change",type:!1,parentEl:!1,autoRender:!0,inRender:!1,silentRender:!1,renderTarget:!1},this._e=new EventTarget,this.events={"click a[rel='external']":"clickExternal"},this.options=_.extend({},this.defaults,t),this.options.data=!_.isNull(this.data),this.cid=_.uniqueId("view"),this.initialize()}initialize(){this.unbind(),this.on("loaded",this._onLoaded.bind(this)),this.on("loaded",this.onLoaded.bind(this)),this.options.attr?$(this.el).attr("data-view",this.options.attr):this.el.removeAttribute("data-view");var t=this.options.html?this.options.html:null;this.url&&!this.options.url&&(this.options.url=this.url);var e=this._url(this.options);this.url=this._url;let i=this.options.template?this.options.template:Template;this.options.type||(this.options.type="default"),this.template="function"==typeof i?new i(t,{url:e}):i,this.options.autoRender&&this.template.bind("loaded",this.render),this.options.data&&!_.isUndefined(this.data.on)&&this.data.on(this.options.bind,this.render),this._initRender()?this.render():this.trigger("loaded"),window.addEventListener("resize",this._resize.bind(this)),this.initStates()}initStates(){for(var t in this.states){var e=this.states[t];this.bind(t,this[e].bind(this))}}_url(t){var e=(t=t||{}).url||this.options.url;return"function"==typeof e?e():e}preRender(){}render(){if(this.template){this._preRender();var t=this._getTemplate(),e=this.toJSON(),i=t instanceof Function?t(e):t,s=this._findContainer();this.el||(this.el=i),this._inDOM(),this.options.append?s.append(this.el):this.options.prepend?s.prepend(this.el):s.innerHTML=i,this._postRender()}}postRender(){}listen(t,e,i){var s="string"==typeof e?[e]:e;for(var n in s)t.bind(s[n],i)}resize(t){}clickExternal(t){t.preventDefault();var e=this.findLink(t.target);"undefined"!=typeof pageTracker&&(e=pageTracker._getLinkerUrl(e));try{window.plugins.childBrowser.showWebPage(e)}catch(t){window.open(e,"_blank")}return!1}clickTab(t){t.preventDefault();let e=this.findLink(t.target),i=this.el.querySelector(e);i.style.display="block",utils.getSiblings(i).forEach((t=>t.style.display="none")),$(t.target).parent("li").addClass("selected").siblings().removeClass("selected")}findLink(t){return"A"!=t.tagName?$(t).closest("a").getAttribute("href"):t.getAttribute("href")}toJSON(){var t=this._toJSON();return this.options.inRender?{data:t,options:this.options}:t}onLoaded(){}parent(t,e){t=t||"",e=e||{},this.__inherit=this.__inherit||[];var i=(this.__inherit[t]||this._parent||{}).prototype||Object.getPrototypeOf(this).constructor.__super__,s=i[t]||function(){delete this.__inherit[t]},n=e instanceof Array?e:[e];return this.__inherit[t]=i._parent||function(){},s.apply(this,n)}_getEl(t){var e=t.el||document.createElement("div");return"string"==typeof e&&(e=document.querySelector(e)),e}_initRender(){if(!this.options.autoRender)return!1;var t=this._getTemplate(),e=this.options.html||this.options.url&&t,i=this.options.data&&(_.isUndefined(this.data.toJSON)||!_.isUndefined(this.data.toJSON)&&!_.isEmpty(this.data.toJSON()));return!(!e||!i)||(!(!e||this.options.data)||!(!i||this.options.url))}_preRender(){this.preRender()}_postRender(){this.options.silentRender||(this.el.style.display="block"),(!this.options.data||this.options.data&&!_.isEmpty(this._toJSON()))&&(this.el.classList.remove("loading"),this.state.set("loaded",!0),this.trigger("loaded")),this.postRender()}_toJSON(){return this.options.data?this.data.toJSON?this.data.toJSON():this.data:{}}_getTemplate(){return this.options.type?this.template.get(this.options.type):this.template}_onLoaded(){this.setElement(this.el)}_findContainer(){var t=this.el;return this.options.renderTarget&&("string"==typeof this.options.renderTarget?(t=this.el.querySelectorAll(this.options.renderTarget)[0]).length||(t=document.querySelector(this.options.renderTarget)):"object"==typeof this.options.renderTarget&&(t=this.options.renderTarget)),t}_inDOM(t){if(!(t=t||this.el))return!1;var e=document.querySelector(this.options.parentEl||"body");if(e.contains(t))return!0;this.options.parentPrepend?e.prepend(t):e.append(t)}_navigate(t){}_resize(){var t,e=this,i=arguments;clearTimeout(t),t=setTimeout((function(){e.resize.apply(e,Array.prototype.slice.call(i))}),1e3)}_scroll(){}isVisible(){var t=jQuery(window).width(),e=jQuery(window).height(),i=jQuery(document).scrollTop(),s=jQuery(document).scrollLeft(),n=i,r=i+e,o=s,a=s+t,l=$(this.el).offset(),h=l.top>=n&&l.top<r&&l.left>=o&&l.left<a;return h&&!this.state.get("visible")?this.trigger("visible"):this.trigger("hidden"),this.state.set("visible",h),h}}class Controller{constructor(t){this.routes={},this.data=new Model,this.defaults={api:!1,autostart:!0,location:!1,pushState:!1,p404:"/"},t=t||{},this.options=_.extend({},this.defaults,t),this.routes={"":"index","_=_":"_fixFB","access_token=:token":"access_token",logout:"logout"},this.state={fullscreen:!1,online:navigator.onLine,browser:function(){return/chrome/.test(navigator.userAgent.toLowerCase())?"chrome":/firefox/.test(navigator.userAgent.toLowerCase())?"firefox":/safari/.test(navigator.userAgent.toLowerCase())?"safari":"Microsoft Internet Explorer"==navigator.appName?"ie":/android/.test(navigator.userAgent.toLowerCase())?"android":/(iPhone|iPod).*OS 5.*AppleWebKit.*Mobile.*Safari/.test(navigator.userAgent)?"ios":-1!==navigator.userAgent.indexOf("Opera Mini")?"opera-mini":"other"},mobile:navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i),ipad:null!==navigator.userAgent.match(/iPad/i),retina:window.retina||window.devicePixelRatio>1,touch:"ontouchstart"in document.documentElement,pushstate:function(){try{return window.history.pushState({pageTitle:document.title},document.title,window.location),!0}catch(t){return!1}},scroll:!0,ram:function(){return console.memory?Math.round(console.memory.usedJSHeapSize/console.memory.totalJSHeapSize*100):0},standalone:function(){return"standalone"in navigator&&navigator.standalone||"undefined"!=typeof PhoneGap&&!_.isUndefined(PhoneGap.env)&&PhoneGap.env.app||"undefined"!=typeof external&&"function"==typeof external.msIsSiteMode&&external.msIsSiteMode()},framed:top!==self},this.cid=_.uniqueId("controller"),this.initialize()}initialize(){this._setup()}update(){(this.state instanceof Backbone.Model?this.state.get("scroll"):this.state.scroll)?$("body").removeClass("no-scroll"):$("body").addClass("no-scroll")}index(){}logout(){this.session&&this.session.trigger("logout",{reload:!0}),this.navigate("/",!0)}preRoute(t,e){var i=this;return this.session&&void 0!==this.session.state?this.session.state?e.apply(i,t):this.session.bind("loaded",_.once((function(){e.apply(i,t)}))):e.apply(i,t)}access_token(t){this.session?this.session.set({token:t}):window.access_token=t,this.navigate("/",!0)}_setup(){this.options.api&&this._ajaxPrefilter(this.options.api),this.options.location&&this._geoLocation(),this._setupSession()}_setupSession(){}_ajaxPrefilter(t){var e=this.session||!1;$.ajaxPrefilter((function(i,s,n){if("json"==s.dataType){0===i.url.search(/^http/)||(i.url=t+i.url),i.xhrFields={withCredentials:!0};var r=e&&(e._csrf||e.get("_csrf"))||!1;r&&n.setRequestHeader("X-CSRF-Token",r)}}))}_fixFB(){this.navigate("/",!0)}_layoutUpdate(t){this.layout&&this.layout.trigger("update",{navigate:!0,path:t})}_bindRoutes(){if(this.routes){this.routes=_.result(this,"routes");for(var t,e=_.keys(this.routes);void 0!==(t=e.pop());){var i=this.routes[t];this.route(t,i,this._callRoute(this[i]))}}}_callRoute(t){return function(){this.preRoute.call(this,arguments,t)}}_geoLocation(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.state.location=e}),(function(){console.log("error",arguments)})),setTimeout((function(){t._geoLocation()}),3e4)}_404(t){var e="Unable to find path: "+t;console.log(e),this.navigate(this.options.p404)}}class Events{constructor(){this.data=new Collection}add(t){var e=new Model({id:t,event:new BroadcastChannel(t)});this.data.add(e)}get(t){return this.data.get(t).get("event")}listen(t,e){this.get(t).addEventListener("message",e)}trigger(t,e){this.data.get(t).get("event").postMessage(e)}}class Collection extends Base{constructor(t,e={}){super(e),this.defaults={_synced:!1,autofetch:!1,cache:!1},this.model=e.model||Model,this.data=[],e=e||{},this.options=_.extend({},this.defaults,e),this.cid=_.uniqueId("collection"),this.initialize()}initialize(){if(this.options.cache){var t=this.cache();t&&this.add(t)}this.options.autofetch&&_.isEmpty(models)&&this.url&&this.fetch()}update(){}add(t){var e=t.cid&&t.cid.includes("model")?t:new this.model(t);this.data.push(e)}save(t,e){if(_.extend(this.models,t),e.success){var i=_.after(this.models.length,e.success);_.each(this.models,(function(t){t.save(null,{success:i})}))}}get(t){if(Number.isInteger(t))return this.data[t];for(var e in this.data){if(t===this.data[e].get("id"))return this.data[e];if(t===this.data[e].get("name"))return this.data[e];if(t===this.data[e].get("cid"))return this.data[e]}return null}cache(){return Backbone.Collection.prototype.cache||!1}parse(t){var e=this;return setTimeout((function(){e.trigger("fetch")}),200),this.options.cache&&this.cache(t),t}output(){return this.toJSON()}isNew(){return!1===this.options._synced}isOnline(){return!!_.isUndefined(app)||app.state.online}}class Layout extends View{constructor(t){this.el="body",this.defaults={autosync:!1,autorender:!0,sync_events:"add remove change"},this.events={"click a:not([rel='external'],[rel='alternate'])":"_clickLink"},t=t||{},this.options=_.extend({},this.defaults,t),this.cid=_.uniqueId("layout"),this.initialize()}initialize(){if(this.views=new Model,$(this.el).unbind(),_.bindAll(this,"set","get","render","update","_clickLink","_viewLoaded","_syncData"),this.on("update",this.update),this.options.url||this.url){var t=this.options.url||this.url;this.options.type||(this.options.type="default"),this.template=new Template(null,{url:t}),this.options.autorender&&this.template.bind("loaded",this.render)}options.data&&(this.data=options.data)}preRender(){}render(){if(this._preRender(),$(this.el).removeClass("loading"),this.template){var t=(this.options.type?this.template.get(this.options.type):this.template)(this.options);$(this.el).html(t)}this._postRender()}postRender(){}update(t){if((t=t||!1)&&t.navigate)for(var e in this.views.attributes)this.views.attributes[e]._navigate(t)}set(t){for(var e in t)t[e].on("loaded",_.bind(this._viewLoaded,this)),t[e]._name=e,t[e].data&&(t[e].data._view=e,t[e].data.on(this.options.sync_events,_.bind(this._syncData,this)));return this.views.set(t)}get(t){return this.views.get(t)}remove(t){var e=this.get(t);if(!_.isUndefined(e))return e.remove(),this.views.unset(t)}findLink(t){var e="A"!=t.tagName?$(t).closest("a"):$(t),i=e.attr("href"),s=!!i&&("#"==i.substr(0,1)||"/#"==i.substr(0,2)&&"/"==window.location.pathname);return!(_.isEmpty(i)||s||e.attr("target"))&&i}_preRender(){app.state.touch&&$(this.el).addClass("touch"),this.preRender()}_postRender(){this.postRender()}_viewLoaded(){var t=0,e=0;_.each(this.views.attributes,(function(i){i.state.loaded&&e++,t++})),t==e&&this._allViewsLoaded()}_allViewsLoaded(){return _.once((function(){this.render()}))}_syncData(t,e,i){var s=!1,n=e||t||!1;if(n){var r=n._view||!1;if(r&&this.model instanceof Backbone.Model){if(-1==(this.model.keys()||[]).indexOf(r))return;try{s=n.output()}catch(t){s=n.toJSON()}if(s){var o={};o[r]=s,this.model.set(o),this.options.autosync&&this.model.save()}}}}_clickLink(t){var e=this.findLink(t.target);if(e&&$(this.el).addClass("loading"),app.state.standalone()&&e)return t.preventDefault(),window.location=e,!1}}class Session extends Model{constructor(t,e){e=e||{},this.defaults={auth:0,updated:0,broadcast:!0,local:!0,remote:!0,persist:!1,host:""},this.state=!1,this.options=_.extend(this.defaults,e),_.isUndefined(e.url)||(this.url=e.url),_.bindAll(this,"logout","cache","update")}initialize(){this.options.persist||"undefined"==typeof sessionStorage||null===sessionStorage?this.options.persist&&"undefined"!=typeof localStorage&&null!==localStorage?this.store=localStore:this.store=cookieStore:this.store=sessionStore;var t=this.store.get("session");_.isNull(t)||!this.options.local?this.fetch():(this.set(JSON.parse(t)),this.set({updated:0}),!this.get("auth")&&this.options.remote&&this.fetch(),this.options.broadcast&&this.save()),this.bind("change",this.update),this.bind("error",this.error),this.on("logout",this.logout)}url(){return this.options.host+"/session"}parse(t){if(!_.isNull(t))return void 0===t.updated&&(t.updated=(new Date).getTime()),t.id||(t.id=this.generateUid()),t}sync(t,e,i){return i=i||{},!this.options.remote||!this.options.broadcast&&"read"!=t?this.update():Backbone.sync.call(this,t,e,i)}update(){this.state||(this.state=!0,this.trigger("loaded")),!this.get("updated")&&this.options.remote||this.cache()}cache(){this.store.set("session",JSON.stringify(this.toJSON()))}logout(t){var e=this;t=t||{},this.store.clear("session"),this.destroy({wait:!0,success:function(i,s){i.clear(),i.id=null,e.set({auth:!1}),s&&s._csrf&&e.set({_csrf:s._csrf}),t.reload&&window.location.reload()}})}error(t,e,i,s){console.log(e)}generateUid(t){var e=t||"-";function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return i()+i()+e+i()+e+i()+e+i()+e+i()+i()+i()}}let sessionStore={get:function(t){return sessionStorage.getItem(t)},set:function(t,e){return sessionStorage.setItem(t,e)},check:function(t){return null==sessionStorage.getItem(t)},clear:function(t){return sessionStorage.removeItem(t)}},localStore={get:function(t){return localStorage.getItem(t)},set:function(t,e){return localStorage.setItem(t,e)},check:function(t){return null==localStorage.getItem(t)},clear:function(t){return localStorage.removeItem(t)}},cookieStore={get:function(t){var e,i,s,n=document.cookie.split(";");for(e=0;e<n.length;e++)if(i=n[e].substr(0,n[e].indexOf("=")),s=n[e].substr(n[e].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==t)return unescape(s)},set:function(t,e){var i=864e5,s=new Date((new Date).getTime()+parseInt(i)),n=escape(e)+"; expires="+s.toUTCString();document.cookie=t+"="+n},check:function(t){var e=this.get(t);return null!=e&&""!=e},clear:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};class Template extends Model{constructor(t,e){t=t||"",super(e=e||(e={})),this.html=t,this.cid=_.uniqueId("template"),this.initialize()}initialize(){_.bindAll(this,"fetch","parse");var t=this.html;_.isEmpty(t)||(this.set("default",this.compile(t)),this.trigger("loaded")),this.options.url&&(this.url=this.options.url,this.fetch())}compile(t){var e=this._sanitize(t);e=e.replace(/`/g,"\\`");return function(t){const i=Object.keys(t);return new Function(...i,"return `"+e+"`")(...i.map((e=>t[e])))}}fetch(){$.get(this.url,this.parse)}parse(t){var e,i=this;try{e=$(t).filter("script")}catch(t){e=[]}e.length?e.each((function(){var t=$(this);t.attr("type").indexOf("template")>=0&&i.set(t.attr("id"),i.compile(t.html()))})):this.set("default",i.compile(t)),this.trigger("loaded")}_sanitize(t){if(!_.isString(t))return!1;const e={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};return t=>t.toString().replace(/[&<>\(\)]/g,(t=>e[t]||t))}}class Utils{constructor(){this.templateSettings={interpolate:/\{\{(.+?)\}\}/g,variable:"."},"undefined"!=typeof Handlebars&&_.mixin({template:Handlebars.compile})}extend(){var t=Array.prototype.slice.call(arguments),e={};for(var i in t){var s=t[i];for(var n in s)s[n]&&s[n].constructor&&s[n].constructor===Object?(e[n]=e[n]||{},e[n]=_.extend.caller(e[n],s[n])):e[n]=s[n]}return e}uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}isPhonegap(){return"undefined"!=typeof PhoneGap&&void 0!==PhoneGap.init&&void 0!==PhoneGap.env&&PhoneGap.env.app}bindAll(t,...e){e.forEach((function(e){let i=t[e];t[e]=function(){return i.apply(t)}}))}isEmpty(t){let e,i,s;const n=[undefined,null,!1,0,"","0"];for(i=0,s=n.length;i<s;i++)if(t===n[i])return!0;if("object"==typeof t){for(e in t)if(t.hasOwnProperty(e))return!1;return!0}return!1}isString(t){return"string"==typeof t}getSiblings(t){for(var e=[],i=t.parentNode.firstChild;i;)1===i.nodeType&&i!==t&&e.push(i),i=i.nextSibling;return e}uniqueId(t){t=t+"-"||"";for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i=(new Date).getTime().toString(),s="",n=0;n<62;n+=2)if(n+2<=i.length){var r=parseInt(i.substr(n,2));if(r>61){var o=r.toString().substr(0,1),a=r.toString().substr(1,1);s+=e[parseInt(o)],s+=e[parseInt(a)]}else s+=e[r]}return t+s}isNull(t){return null===t}isUndefined(t){return void 0===t}result(t,e,i){var s=(e=Array.isArray(e)?e:[e]).length;if(!s)return"function"==typeof i?i.call(t):i;for(var n=0;n<s;n++){var r=null==t?void 0:t[e[n]];void 0===r&&(r=i,n=s),t="function"==typeof r?r.call(t):r}return t}}class APP{constructor(){this.name="APP",this._routes=[];var t=arguments[0]||{},e=arguments[1]||function(){};t.require=t.require||"function"==typeof define&&define.amd,t.routePath="app/controllers/",t.pushState=t.pushState||!1,this.options=t,this.Routers=this.Controllers;var i=!1,s=window.location.pathname.split("/");""===s[0]&&s.shift();var n=t.routePath+"default";if("string"==typeof t.require?i=t.require:(i=t.routePath,i+=_.isEmpty(s[0])?"default":s[0]),t.require)return require([i],(function(t){t&&e(t)}),(function(t){if((t.requireModules&&t.requireModules[0])!=i)throw t;require([n],(function(t){e(t)}))})),APP;var r=t.controllers||[],o=_.isEmpty(s[0])?"default":s[0];return r.includes(o)?import("../"+i+".js").then((t=>{var e=o.charAt(0).toUpperCase()+o.slice(1),i="function"==typeof t[e]?t[e]:t.Router;this.route=new i})).catch((t=>{console.error(t)})):r.includes("default")?import("../"+n+".js").then((t=>{var e="function"==typeof t.Default?t.Default:t.Router;this.route=new e})).catch((t=>{console.error(t)})):this.route=new APP.Controller,this.route}routes(){return this._routes}ready(t){return _.isPhonegap()?PhoneGap.init(t):$?$(document).ready(t):window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent("onload",t)}}APP.Model=Model,APP.View=View,APP.Controller=Controller,APP.Template=Template,APP.Collection=Collection,APP.Layout=Layout,APP.Models={},APP.Controllers={},APP.Collections={},APP.Views={},APP.Layouts={},APP.Templates={};var _=new Utils;window&&(window.APP=APP);export{APP,Model,View,Controller,Events,Collection,Layout,Template};